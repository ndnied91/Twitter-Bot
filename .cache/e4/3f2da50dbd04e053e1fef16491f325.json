{"id":"node_modules/twitter-lite/dist/twitter.m.js","dependencies":[{"name":"/Users/mcl0vin/Documents/Code/twitter_bot/node_modules/twitter-lite/dist/twitter.m.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/mcl0vin/Documents/Code/twitter_bot/package.json","includedInParent":true,"mtime":1582742782000},{"name":"/Users/mcl0vin/Documents/Code/twitter_bot/node_modules/twitter-lite/package.json","includedInParent":true,"mtime":1582742824000},{"name":"crypto","loc":{"line":1,"column":14},"parent":"/Users/mcl0vin/Documents/Code/twitter_bot/node_modules/twitter-lite/dist/twitter.m.js","resolved":"/Users/mcl0vin/.nvm/versions/node/v10.3.0/lib/node_modules/parcel-bundler/node_modules/crypto-browserify/index.js"},{"name":"oauth-1.0a","loc":{"line":1,"column":34},"parent":"/Users/mcl0vin/Documents/Code/twitter_bot/node_modules/twitter-lite/dist/twitter.m.js","resolved":"/Users/mcl0vin/Documents/Code/twitter_bot/node_modules/oauth-1.0a/oauth-1.0a.js"},{"name":"cross-fetch","loc":{"line":1,"column":58},"parent":"/Users/mcl0vin/Documents/Code/twitter_bot/node_modules/twitter-lite/dist/twitter.m.js","resolved":"/Users/mcl0vin/Documents/Code/twitter_bot/node_modules/cross-fetch/dist/browser-ponyfill.js"},{"name":"querystring","loc":{"line":1,"column":83},"parent":"/Users/mcl0vin/Documents/Code/twitter_bot/node_modules/twitter-lite/dist/twitter.m.js","resolved":"/Users/mcl0vin/.nvm/versions/node/v10.3.0/lib/node_modules/parcel-bundler/node_modules/querystring-es3/index.js"},{"name":"./stream","loc":{"line":1,"column":108},"parent":"/Users/mcl0vin/Documents/Code/twitter_bot/node_modules/twitter-lite/dist/twitter.m.js","resolved":"/Users/mcl0vin/Documents/Code/twitter_bot/node_modules/twitter-lite/dist/stream.js"},{"name":"buffer","parent":"/Users/mcl0vin/Documents/Code/twitter_bot/node_modules/twitter-lite/dist/twitter.m.js","resolved":"/Users/mcl0vin/.nvm/versions/node/v10.3.0/lib/node_modules/parcel-bundler/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"crypto\"),t=require(\"oauth-1.0a\"),r=require(\"cross-fetch\"),n=require(\"querystring\"),s=require(\"./stream\"),o=function(e,t){return void 0===t&&(t=\"1.1\"),\"https://\"+e+\".twitter.com/\"+t},i={subdomain:\"api\",consumer_key:null,consumer_secret:null,access_token_key:null,access_token_secret:null,bearer_token:null},a=[\"direct_messages/events/new\",\"direct_messages/welcome_messages/new\",\"direct_messages/welcome_messages/rules/new\"],u={\"Content-Type\":\"application/json\",Accept:\"application/json\"};function c(e){return e.replace(/!/g,\"%21\").replace(/\\*/g,\"%2A\").replace(/'/g,\"%27\").replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\")}var h=function(r){var n,s=Object.assign({},i,r);this.authType=s.bearer_token?\"App\":\"User\",this.client=t({consumer:{key:(n={key:s.consumer_key,secret:s.consumer_secret}).key,secret:n.secret},signature_method:\"HMAC-SHA1\",hash_function:function(t,r){return e.createHmac(\"sha1\",r).update(t).digest(\"base64\")}}),this.token={key:s.access_token_key,secret:s.access_token_secret},this.url=o(s.subdomain),this.oauth=o(s.subdomain,\"oauth\"),this.config=s};h._handleResponse=function(e){var t=e.headers.raw();return 204===e.status?{_headers:t}:e.json().then(function(e){return e._headers=t,e})},h.prototype.getBearerToken=function(){return new Promise(function(e,t){var n;return n={Authorization:\"Basic \"+Buffer.from(this.config.consumer_key+\":\"+this.config.consumer_secret).toString(\"base64\"),\"Content-Type\":\"application/x-www-form-urlencoded;charset=UTF-8\"},r(\"https://api.twitter.com/oauth2/token\",{method:\"POST\",body:\"grant_type=client_credentials\",headers:n}).then(h._handleResponse).then(function(r){try{return e(r)}catch(e){return t(e)}},t)}.bind(this))},h.prototype.getRequestToken=function(e){return new Promise(function(t,s){var o,i,a;return o={url:this.oauth+\"/request_token\",method:\"POST\"},i={},e&&(i={oauth_callback:e}),i&&(o.url+=\"?\"+n.stringify(i)),a=this.client.toHeader(this.client.authorize(o,{})),r(o.url,{method:\"POST\",headers:Object.assign({},u,a)}).then(function(e){return e.text()}).then(function(e){return n.parse(e)}).then(function(e){try{return t(e)}catch(e){return s(e)}},s)}.bind(this))},h.prototype.getAccessToken=function(e){return new Promise(function(t,s){var o,i,a;return o={url:this.oauth+\"/access_token\",method:\"POST\"},(i={oauth_verifier:e.verifier})&&(o.url+=\"?\"+n.stringify(i)),a=this.client.toHeader(this.client.authorize(o,{key:e.key,secret:e.secret})),r(o.url,{method:\"POST\",headers:Object.assign({},u,a)}).then(function(e){return e.text()}).then(function(e){return n.parse(e)}).then(function(e){try{return t(e)}catch(e){return s(e)}},s)}.bind(this))},h.prototype._makeRequest=function(e,t,r){var s={url:this.url+\"/\"+t+\".json\",method:e};r&&(\"POST\"===e?s.data=r:s.url+=\"?\"+n.stringify(r));return{requestData:s,headers:\"User\"===this.authType?this.client.toHeader(this.client.authorize(s,this.token)):{Authorization:\"Bearer \"+this.config.bearer_token}}},h.prototype.get=function(e,t){var n=this._makeRequest(\"GET\",e,t);return r(n.requestData.url,{headers:n.headers}).then(h._handleResponse).then(function(e){return\"errors\"in e?Promise.reject(e):e})},h.prototype.post=function(e,t){var s=this._makeRequest(\"POST\",e,a.includes(e)?null:t),o=s.requestData,i=Object.assign({},u,s.headers);return a.includes(e)?t=JSON.stringify(t):(t=c(n.stringify(t)),i[\"Content-Type\"]=\"application/x-www-form-urlencoded\"),r(o.url,{method:\"POST\",headers:i,body:t}).then(h._handleResponse).then(function(e){return\"errors\"in e?Promise.reject(e):e})},h.prototype.stream=function(e,t){var i=this;if(\"User\"!==this.authType)throw new Error(\"Streams require user context authentication\");var a=new s,u={url:o(\"stream\")+\"/\"+e+\".json\",method:\"POST\"};t&&(u.data=t);var h=this.client.toHeader(this.client.authorize(u,this.token));return r(u.url,{method:\"POST\",headers:Object.assign({},h,{\"Content-Type\":\"application/x-www-form-urlencoded\"}),body:c(n.stringify(t))}).then(function(e){a.destroy=i.stream.destroy=function(){return e.body.destroy()},e.ok?a.emit(\"start\",e):(e._headers=e.headers.raw(),a.emit(\"error\",e)),e.body.on(\"data\",function(e){return a.parse(e)}).on(\"error\",function(e){return a.emit(\"error\",e)}).on(\"end\",function(){return a.emit(\"end\",e)})}).catch(function(e){return a.emit(\"error\",e)}),a},module.exports=h;\n\n"},"sourceMaps":{"js":{"mappings":[{"source":"../twitter.js","name":"const","original":{"line":1,"column":0},"generated":{"line":2,"column":0}},{"source":"../twitter.js","name":"crypto","original":{"line":1,"column":6},"generated":{"line":2,"column":4}},{"source":"../twitter.js","name":"require","original":{"line":1,"column":15},"generated":{"line":2,"column":6}},{"source":"../twitter.js","name":null,"original":{"line":1,"column":23},"generated":{"line":2,"column":14}},{"source":"../twitter.js","name":"OAuth","original":{"line":2,"column":6},"generated":{"line":2,"column":24}},{"source":"../twitter.js","name":"require","original":{"line":2,"column":14},"generated":{"line":2,"column":26}},{"source":"../twitter.js","name":null,"original":{"line":2,"column":22},"generated":{"line":2,"column":34}},{"source":"../twitter.js","name":"Fetch","original":{"line":3,"column":6},"generated":{"line":2,"column":48}},{"source":"../twitter.js","name":"require","original":{"line":3,"column":14},"generated":{"line":2,"column":50}},{"source":"../twitter.js","name":null,"original":{"line":3,"column":22},"generated":{"line":2,"column":58}},{"source":"../twitter.js","name":"querystring","original":{"line":4,"column":6},"generated":{"line":2,"column":73}},{"source":"../twitter.js","name":"require","original":{"line":4,"column":20},"generated":{"line":2,"column":75}},{"source":"../twitter.js","name":null,"original":{"line":4,"column":28},"generated":{"line":2,"column":83}},{"source":"../twitter.js","name":"Stream","original":{"line":5,"column":6},"generated":{"line":2,"column":98}},{"source":"../twitter.js","name":"require","original":{"line":5,"column":15},"generated":{"line":2,"column":100}},{"source":"../twitter.js","name":null,"original":{"line":5,"column":23},"generated":{"line":2,"column":108}},{"source":"../twitter.js","name":"getUrl","original":{"line":7,"column":6},"generated":{"line":2,"column":120}},{"source":"../twitter.js","name":"subdomain","original":{"line":7,"column":16},"generated":{"line":2,"column":131}},{"source":"../twitter.js","name":"endpoint","original":{"line":7,"column":27},"generated":{"line":2,"column":133}},{"source":"../twitter.js","name":null,"original":{"line":7,"column":38},"generated":{"line":2,"column":158}},{"source":"../twitter.js","name":"subdomain","original":{"line":8,"column":13},"generated":{"line":2,"column":176}},{"source":"../twitter.js","name":"endpoint","original":{"line":8,"column":38},"generated":{"line":2,"column":194}},{"source":"../twitter.js","name":"defaults","original":{"line":25,"column":6},"generated":{"line":2,"column":197}},{"source":"../twitter.js","name":"subdomain","original":{"line":26,"column":2},"generated":{"line":2,"column":200}},{"source":"../twitter.js","name":null,"original":{"line":26,"column":13},"generated":{"line":2,"column":210}},{"source":"../twitter.js","name":"consumer_key","original":{"line":27,"column":2},"generated":{"line":2,"column":216}},{"source":"../twitter.js","name":null,"original":{"line":27,"column":16},"generated":{"line":2,"column":229}},{"source":"../twitter.js","name":"consumer_secret","original":{"line":28,"column":2},"generated":{"line":2,"column":234}},{"source":"../twitter.js","name":null,"original":{"line":28,"column":19},"generated":{"line":2,"column":250}},{"source":"../twitter.js","name":"access_token_key","original":{"line":29,"column":2},"generated":{"line":2,"column":255}},{"source":"../twitter.js","name":null,"original":{"line":29,"column":20},"generated":{"line":2,"column":272}},{"source":"../twitter.js","name":"access_token_secret","original":{"line":30,"column":2},"generated":{"line":2,"column":277}},{"source":"../twitter.js","name":null,"original":{"line":30,"column":23},"generated":{"line":2,"column":297}},{"source":"../twitter.js","name":"bearer_token","original":{"line":31,"column":2},"generated":{"line":2,"column":302}},{"source":"../twitter.js","name":null,"original":{"line":31,"column":16},"generated":{"line":2,"column":315}},{"source":"../twitter.js","name":"JSON_ENDPOINTS","original":{"line":38,"column":6},"generated":{"line":2,"column":321}},{"source":"../twitter.js","name":null,"original":{"line":39,"column":2},"generated":{"line":2,"column":324}},{"source":"../twitter.js","name":null,"original":{"line":40,"column":2},"generated":{"line":2,"column":353}},{"source":"../twitter.js","name":null,"original":{"line":41,"column":2},"generated":{"line":2,"column":392}},{"source":"../twitter.js","name":"baseHeaders","original":{"line":44,"column":6},"generated":{"line":2,"column":438}},{"source":"../twitter.js","name":"Content-Type","original":{"line":45,"column":2},"generated":{"line":2,"column":441}},{"source":"../twitter.js","name":null,"original":{"line":45,"column":18},"generated":{"line":2,"column":456}},{"source":"../twitter.js","name":"Accept","original":{"line":46,"column":2},"generated":{"line":2,"column":475}},{"source":"../twitter.js","name":null,"original":{"line":46,"column":10},"generated":{"line":2,"column":482}},{"source":"../twitter.js","name":null,"original":{"line":49,"column":0},"generated":{"line":2,"column":502}},{"source":"../twitter.js","name":"percentEncode","original":{"line":49,"column":9},"generated":{"line":2,"column":511}},{"source":"../twitter.js","name":"string","original":{"line":49,"column":23},"generated":{"line":2,"column":513}},{"source":"../twitter.js","name":null,"original":{"line":51,"column":2},"generated":{"line":2,"column":516}},{"source":"../twitter.js","name":"string","original":{"line":51,"column":9},"generated":{"line":2,"column":523}},{"source":"../twitter.js","name":"replace","original":{"line":52,"column":5},"generated":{"line":2,"column":525}},{"source":"../twitter.js","name":null,"original":{"line":52,"column":13},"generated":{"line":2,"column":533}},{"source":"../twitter.js","name":null,"original":{"line":52,"column":19},"generated":{"line":2,"column":538}},{"source":"../twitter.js","name":"replace","original":{"line":53,"column":5},"generated":{"line":2,"column":545}},{"source":"../twitter.js","name":null,"original":{"line":53,"column":13},"generated":{"line":2,"column":553}},{"source":"../twitter.js","name":null,"original":{"line":53,"column":20},"generated":{"line":2,"column":559}},{"source":"../twitter.js","name":"replace","original":{"line":54,"column":5},"generated":{"line":2,"column":566}},{"source":"../twitter.js","name":null,"original":{"line":54,"column":13},"generated":{"line":2,"column":574}},{"source":"../twitter.js","name":null,"original":{"line":54,"column":19},"generated":{"line":2,"column":579}},{"source":"../twitter.js","name":"replace","original":{"line":55,"column":5},"generated":{"line":2,"column":586}},{"source":"../twitter.js","name":null,"original":{"line":55,"column":13},"generated":{"line":2,"column":594}},{"source":"../twitter.js","name":null,"original":{"line":55,"column":20},"generated":{"line":2,"column":600}},{"source":"../twitter.js","name":"replace","original":{"line":56,"column":5},"generated":{"line":2,"column":607}},{"source":"../twitter.js","name":null,"original":{"line":56,"column":13},"generated":{"line":2,"column":615}},{"source":"../twitter.js","name":null,"original":{"line":56,"column":20},"generated":{"line":2,"column":621}},{"source":"../twitter.js","name":null,"original":{"line":59,"column":0},"generated":{"line":2,"column":628}},{"source":"../twitter.js","name":"Twitter","original":{"line":59,"column":6},"generated":{"line":2,"column":632}},{"source":"../twitter.js","name":null,"original":{"line":60,"column":2},"generated":{"line":2,"column":634}},{"source":"../twitter.js","name":"options","original":{"line":60,"column":14},"generated":{"line":2,"column":643}},{"source":"../twitter.js","name":"ref","original":{"line":10,"column":27},"generated":{"line":2,"column":650}},{"source":"../twitter.js","name":"config","original":{"line":61,"column":10},"generated":{"line":2,"column":652}},{"source":"../twitter.js","name":"Object","original":{"line":61,"column":19},"generated":{"line":2,"column":654}},{"source":"../twitter.js","name":"assign","original":{"line":61,"column":26},"generated":{"line":2,"column":661}},{"source":"../twitter.js","name":"defaults","original":{"line":61,"column":37},"generated":{"line":2,"column":671}},{"source":"../twitter.js","name":"options","original":{"line":61,"column":47},"generated":{"line":2,"column":673}},{"source":"../twitter.js","name":"authType","original":{"line":62,"column":9},"generated":{"line":2,"column":681}},{"source":"../twitter.js","name":"config","original":{"line":62,"column":20},"generated":{"line":2,"column":690}},{"source":"../twitter.js","name":"bearer_token","original":{"line":62,"column":27},"generated":{"line":2,"column":692}},{"source":"../twitter.js","name":null,"original":{"line":62,"column":42},"generated":{"line":2,"column":705}},{"source":"../twitter.js","name":null,"original":{"line":62,"column":50},"generated":{"line":2,"column":711}},{"source":"../twitter.js","name":"client","original":{"line":63,"column":9},"generated":{"line":2,"column":723}},{"source":"../twitter.js","name":"OAuth","original":{"line":11,"column":17},"generated":{"line":2,"column":730}},{"source":"../twitter.js","name":"consumer","original":{"line":12,"column":4},"generated":{"line":2,"column":733}},{"source":"../twitter.js","name":"ref","original":{"line":10,"column":27},"generated":{"line":2,"column":748}},{"source":"../twitter.js","name":"config","original":{"line":64,"column":11},"generated":{"line":2,"column":755}},{"source":"../twitter.js","name":"consumer_key","original":{"line":64,"column":18},"generated":{"line":2,"column":757}},{"source":"../twitter.js","name":"config","original":{"line":65,"column":14},"generated":{"line":2,"column":777}},{"source":"../twitter.js","name":"consumer_secret","original":{"line":65,"column":21},"generated":{"line":2,"column":779}},{"source":"../twitter.js","name":"signature_method","original":{"line":13,"column":4},"generated":{"line":2,"column":818}},{"source":"../twitter.js","name":null,"original":{"line":13,"column":22},"generated":{"line":2,"column":835}},{"source":"../twitter.js","name":"hash_function","original":{"line":14,"column":4},"generated":{"line":2,"column":847}},{"source":"../twitter.js","name":"baseString","original":{"line":14,"column":18},"generated":{"line":2,"column":870}},{"source":"../twitter.js","name":"key","original":{"line":14,"column":30},"generated":{"line":2,"column":872}},{"source":"../twitter.js","name":null,"original":{"line":15,"column":6},"generated":{"line":2,"column":875}},{"source":"../twitter.js","name":"crypto","original":{"line":15,"column":13},"generated":{"line":2,"column":882}},{"source":"../twitter.js","name":"createHmac","original":{"line":16,"column":9},"generated":{"line":2,"column":884}},{"source":"../twitter.js","name":null,"original":{"line":16,"column":20},"generated":{"line":2,"column":895}},{"source":"../twitter.js","name":"key","original":{"line":16,"column":28},"generated":{"line":2,"column":902}},{"source":"../twitter.js","name":"update","original":{"line":17,"column":9},"generated":{"line":2,"column":905}},{"source":"../twitter.js","name":"baseString","original":{"line":17,"column":16},"generated":{"line":2,"column":912}},{"source":"../twitter.js","name":"digest","original":{"line":18,"column":9},"generated":{"line":2,"column":915}},{"source":"../twitter.js","name":null,"original":{"line":18,"column":16},"generated":{"line":2,"column":922}},{"source":"../twitter.js","name":"token","original":{"line":68,"column":9},"generated":{"line":2,"column":940}},{"source":"../twitter.js","name":"config","original":{"line":69,"column":11},"generated":{"line":2,"column":951}},{"source":"../twitter.js","name":"access_token_key","original":{"line":69,"column":18},"generated":{"line":2,"column":953}},{"source":"../twitter.js","name":"config","original":{"line":70,"column":14},"generated":{"line":2,"column":977}},{"source":"../twitter.js","name":"access_token_secret","original":{"line":70,"column":21},"generated":{"line":2,"column":979}},{"source":"../twitter.js","name":"url","original":{"line":73,"column":9},"generated":{"line":2,"column":1005}},{"source":"../twitter.js","name":"getUrl","original":{"line":73,"column":15},"generated":{"line":2,"column":1009}},{"source":"../twitter.js","name":"config","original":{"line":73,"column":22},"generated":{"line":2,"column":1011}},{"source":"../twitter.js","name":"subdomain","original":{"line":73,"column":29},"generated":{"line":2,"column":1013}},{"source":"../twitter.js","name":"oauth","original":{"line":74,"column":9},"generated":{"line":2,"column":1029}},{"source":"../twitter.js","name":"getUrl","original":{"line":74,"column":17},"generated":{"line":2,"column":1035}},{"source":"../twitter.js","name":"config","original":{"line":74,"column":24},"generated":{"line":2,"column":1037}},{"source":"../twitter.js","name":"subdomain","original":{"line":74,"column":31},"generated":{"line":2,"column":1039}},{"source":"../twitter.js","name":null,"original":{"line":74,"column":42},"generated":{"line":2,"column":1049}},{"source":"../twitter.js","name":"config","original":{"line":75,"column":9},"generated":{"line":2,"column":1063}},{"source":"../twitter.js","name":"config","original":{"line":75,"column":18},"generated":{"line":2,"column":1070}},{"source":"../twitter.js","name":"_handleResponse","original":{"line":84,"column":9},"generated":{"line":2,"column":1075}},{"source":"../twitter.js","name":"response","original":{"line":84,"column":25},"generated":{"line":2,"column":1100}},{"source":"../twitter.js","name":"headers","original":{"line":85,"column":10},"generated":{"line":2,"column":1107}},{"source":"../twitter.js","name":"response","original":{"line":85,"column":20},"generated":{"line":2,"column":1109}},{"source":"../twitter.js","name":"headers","original":{"line":85,"column":29},"generated":{"line":2,"column":1111}},{"source":"../twitter.js","name":"raw","original":{"line":85,"column":37},"generated":{"line":2,"column":1119}},{"source":"../twitter.js","name":null,"original":{"line":87,"column":28},"generated":{"line":2,"column":1132}},{"source":"../twitter.js","name":"response","original":{"line":87,"column":8},"generated":{"line":2,"column":1138}},{"source":"../twitter.js","name":"status","original":{"line":87,"column":17},"generated":{"line":2,"column":1140}},{"source":"../twitter.js","name":"headers","original":{"line":89,"column":18},"generated":{"line":2,"column":1157}},{"source":"../twitter.js","name":"response","original":{"line":92,"column":11},"generated":{"line":2,"column":1160}},{"source":"../twitter.js","name":"json","original":{"line":92,"column":20},"generated":{"line":2,"column":1162}},{"source":"../twitter.js","name":"then","original":{"line":92,"column":27},"generated":{"line":2,"column":1169}},{"source":"../twitter.js","name":"res","original":{"line":92,"column":32},"generated":{"line":2,"column":1183}},{"source":"../twitter.js","name":"_headers","original":{"line":93,"column":10},"generated":{"line":2,"column":1195}},{"source":"../twitter.js","name":"headers","original":{"line":93,"column":21},"generated":{"line":2,"column":1204}},{"source":"../twitter.js","name":"res","original":{"line":94,"column":13},"generated":{"line":2,"column":1206}},{"source":"../twitter.js","name":"getBearerToken","original":{"line":98,"column":8},"generated":{"line":2,"column":1223}},{"source":"../twitter.js","name":null,"original":{"line":101,"column":8},"generated":{"line":2,"column":1312}},{"source":"../twitter.js","name":"Buffer","original":{"line":102,"column":8},"generated":{"line":2,"column":1321}},{"source":"../twitter.js","name":"from","original":{"line":102,"column":15},"generated":{"line":2,"column":1328}},{"source":"../twitter.js","name":"this","original":{"line":103,"column":10},"generated":{"line":2,"column":1333}},{"source":"../twitter.js","name":"config","original":{"line":103,"column":15},"generated":{"line":2,"column":1338}},{"source":"../twitter.js","name":"consumer_key","original":{"line":103,"column":22},"generated":{"line":2,"column":1345}},{"source":"../twitter.js","name":null,"original":{"line":103,"column":37},"generated":{"line":2,"column":1358}},{"source":"../twitter.js","name":"this","original":{"line":103,"column":43},"generated":{"line":2,"column":1362}},{"source":"../twitter.js","name":"config","original":{"line":103,"column":48},"generated":{"line":2,"column":1367}},{"source":"../twitter.js","name":"consumer_secret","original":{"line":103,"column":55},"generated":{"line":2,"column":1374}},{"source":"../twitter.js","name":"toString","original":{"line":104,"column":10},"generated":{"line":2,"column":1391}},{"source":"../twitter.js","name":null,"original":{"line":104,"column":19},"generated":{"line":2,"column":1400}},{"source":"../twitter.js","name":null,"original":{"line":105,"column":22},"generated":{"line":2,"column":1425}},{"source":"../twitter.js","name":"Fetch","original":{"line":108,"column":26},"generated":{"line":2,"column":1476}},{"source":"../twitter.js","name":null,"original":{"line":108,"column":32},"generated":{"line":2,"column":1478}},{"source":"../twitter.js","name":null,"original":{"line":109,"column":14},"generated":{"line":2,"column":1525}},{"source":"../twitter.js","name":null,"original":{"line":110,"column":12},"generated":{"line":2,"column":1537}},{"source":"../twitter.js","name":"headers","original":{"line":111,"column":6},"generated":{"line":2,"column":1577}},{"source":"../twitter.js","name":"then","original":{"line":112,"column":7},"generated":{"line":2,"column":1581}},{"source":"../twitter.js","name":"Twitter","original":{"line":112,"column":12},"generated":{"line":2,"column":1586}},{"source":"../twitter.js","name":"_handleResponse","original":{"line":112,"column":20},"generated":{"line":2,"column":1588}},{"source":"../twitter.js","name":"then","original":{"line":108,"column":20},"generated":{"line":2,"column":1605}},{"source":"../twitter.js","name":"$await_1","original":{"line":108,"column":20},"generated":{"line":2,"column":1635}},{"source":"../twitter.js","name":"getRequestToken","original":{"line":117,"column":8},"generated":{"line":2,"column":1690}},{"source":"../twitter.js","name":"twitterCallbackUrl","original":{"line":117,"column":24},"generated":{"line":2,"column":1715}},{"source":"../twitter.js","name":"this","original":{"line":119,"column":14},"generated":{"line":2,"column":1775}},{"source":"../twitter.js","name":null,"original":{"line":120,"column":14},"generated":{"line":2,"column":1810}},{"source":"../twitter.js","name":"twitterCallbackUrl","original":{"line":124,"column":8},"generated":{"line":2,"column":1823}},{"source":"../twitter.js","name":"parameters","original":{"line":124,"column":28},"generated":{"line":2,"column":1827}},{"source":"../twitter.js","name":"twitterCallbackUrl","original":{"line":124,"column":59},"generated":{"line":2,"column":1845}},{"source":"../twitter.js","name":"parameters","original":{"line":125,"column":8},"generated":{"line":2,"column":1849}},{"source":"../twitter.js","name":"requestData","original":{"line":125,"column":20},"generated":{"line":2,"column":1853}},{"source":"../twitter.js","name":"url","original":{"line":125,"column":32},"generated":{"line":2,"column":1855}},{"source":"../twitter.js","name":null,"original":{"line":125,"column":39},"generated":{"line":2,"column":1860}},{"source":"../twitter.js","name":"querystring","original":{"line":125,"column":45},"generated":{"line":2,"column":1864}},{"source":"../twitter.js","name":"stringify","original":{"line":125,"column":57},"generated":{"line":2,"column":1866}},{"source":"../twitter.js","name":"parameters","original":{"line":125,"column":67},"generated":{"line":2,"column":1876}},{"source":"../twitter.js","name":"this","original":{"line":127,"column":20},"generated":{"line":2,"column":1882}},{"source":"../twitter.js","name":"client","original":{"line":127,"column":25},"generated":{"line":2,"column":1887}},{"source":"../twitter.js","name":"toHeader","original":{"line":127,"column":32},"generated":{"line":2,"column":1894}},{"source":"../twitter.js","name":"this","original":{"line":128,"column":6},"generated":{"line":2,"column":1903}},{"source":"../twitter.js","name":"client","original":{"line":128,"column":11},"generated":{"line":2,"column":1908}},{"source":"../twitter.js","name":"authorize","original":{"line":128,"column":18},"generated":{"line":2,"column":1915}},{"source":"../twitter.js","name":"requestData","original":{"line":128,"column":28},"generated":{"line":2,"column":1925}},{"source":"../twitter.js","name":"Fetch","original":{"line":131,"column":26},"generated":{"line":2,"column":1932}},{"source":"../twitter.js","name":"requestData","original":{"line":131,"column":32},"generated":{"line":2,"column":1934}},{"source":"../twitter.js","name":"url","original":{"line":131,"column":44},"generated":{"line":2,"column":1936}},{"source":"../twitter.js","name":null,"original":{"line":132,"column":14},"generated":{"line":2,"column":1948}},{"source":"../twitter.js","name":"Object","original":{"line":133,"column":15},"generated":{"line":2,"column":1963}},{"source":"../twitter.js","name":"assign","original":{"line":133,"column":22},"generated":{"line":2,"column":1970}},{"source":"../twitter.js","name":"baseHeaders","original":{"line":133,"column":33},"generated":{"line":2,"column":1980}},{"source":"../twitter.js","name":"headers","original":{"line":133,"column":46},"generated":{"line":2,"column":1982}},{"source":"../twitter.js","name":"then","original":{"line":135,"column":7},"generated":{"line":2,"column":1987}},{"source":"../twitter.js","name":"res","original":{"line":135,"column":12},"generated":{"line":2,"column":2001}},{"source":"../twitter.js","name":"res","original":{"line":135,"column":19},"generated":{"line":2,"column":2011}},{"source":"../twitter.js","name":"text","original":{"line":135,"column":23},"generated":{"line":2,"column":2013}},{"source":"../twitter.js","name":"then","original":{"line":136,"column":7},"generated":{"line":2,"column":2022}},{"source":"../twitter.js","name":"txt","original":{"line":136,"column":12},"generated":{"line":2,"column":2036}},{"source":"../twitter.js","name":"querystring","original":{"line":136,"column":19},"generated":{"line":2,"column":2046}},{"source":"../twitter.js","name":"parse","original":{"line":136,"column":31},"generated":{"line":2,"column":2048}},{"source":"../twitter.js","name":"txt","original":{"line":136,"column":37},"generated":{"line":2,"column":2054}},{"source":"../twitter.js","name":"then","original":{"line":131,"column":20},"generated":{"line":2,"column":2059}},{"source":"../twitter.js","name":"$await_2","original":{"line":131,"column":20},"generated":{"line":2,"column":2089}},{"source":"../twitter.js","name":"getAccessToken","original":{"line":141,"column":8},"generated":{"line":2,"column":2144}},{"source":"../twitter.js","name":"options","original":{"line":141,"column":23},"generated":{"line":2,"column":2168}},{"source":"../twitter.js","name":"this","original":{"line":143,"column":14},"generated":{"line":2,"column":2228}},{"source":"../twitter.js","name":null,"original":{"line":144,"column":14},"generated":{"line":2,"column":2262}},{"source":"../twitter.js","name":"options","original":{"line":147,"column":39},"generated":{"line":2,"column":2289}},{"source":"../twitter.js","name":"verifier","original":{"line":147,"column":47},"generated":{"line":2,"column":2291}},{"source":"../twitter.js","name":"requestData","original":{"line":148,"column":20},"generated":{"line":2,"column":2304}},{"source":"../twitter.js","name":"url","original":{"line":148,"column":32},"generated":{"line":2,"column":2306}},{"source":"../twitter.js","name":null,"original":{"line":148,"column":39},"generated":{"line":2,"column":2311}},{"source":"../twitter.js","name":"querystring","original":{"line":148,"column":45},"generated":{"line":2,"column":2315}},{"source":"../twitter.js","name":"stringify","original":{"line":148,"column":57},"generated":{"line":2,"column":2317}},{"source":"../twitter.js","name":"parameters","original":{"line":148,"column":67},"generated":{"line":2,"column":2327}},{"source":"../twitter.js","name":"this","original":{"line":150,"column":20},"generated":{"line":2,"column":2333}},{"source":"../twitter.js","name":"client","original":{"line":150,"column":25},"generated":{"line":2,"column":2338}},{"source":"../twitter.js","name":"toHeader","original":{"line":150,"column":32},"generated":{"line":2,"column":2345}},{"source":"../twitter.js","name":"this","original":{"line":151,"column":6},"generated":{"line":2,"column":2354}},{"source":"../twitter.js","name":"client","original":{"line":151,"column":11},"generated":{"line":2,"column":2359}},{"source":"../twitter.js","name":"authorize","original":{"line":151,"column":18},"generated":{"line":2,"column":2366}},{"source":"../twitter.js","name":"requestData","original":{"line":151,"column":28},"generated":{"line":2,"column":2376}},{"source":"../twitter.js","name":"options","original":{"line":152,"column":13},"generated":{"line":2,"column":2383}},{"source":"../twitter.js","name":"key","original":{"line":152,"column":21},"generated":{"line":2,"column":2385}},{"source":"../twitter.js","name":"options","original":{"line":153,"column":16},"generated":{"line":2,"column":2396}},{"source":"../twitter.js","name":"secret","original":{"line":153,"column":24},"generated":{"line":2,"column":2398}},{"source":"../twitter.js","name":"Fetch","original":{"line":157,"column":26},"generated":{"line":2,"column":2408}},{"source":"../twitter.js","name":"requestData","original":{"line":157,"column":32},"generated":{"line":2,"column":2410}},{"source":"../twitter.js","name":"url","original":{"line":157,"column":44},"generated":{"line":2,"column":2412}},{"source":"../twitter.js","name":null,"original":{"line":158,"column":14},"generated":{"line":2,"column":2424}},{"source":"../twitter.js","name":"Object","original":{"line":159,"column":15},"generated":{"line":2,"column":2439}},{"source":"../twitter.js","name":"assign","original":{"line":159,"column":22},"generated":{"line":2,"column":2446}},{"source":"../twitter.js","name":"baseHeaders","original":{"line":159,"column":33},"generated":{"line":2,"column":2456}},{"source":"../twitter.js","name":"headers","original":{"line":159,"column":46},"generated":{"line":2,"column":2458}},{"source":"../twitter.js","name":"then","original":{"line":161,"column":7},"generated":{"line":2,"column":2463}},{"source":"../twitter.js","name":"res","original":{"line":161,"column":12},"generated":{"line":2,"column":2477}},{"source":"../twitter.js","name":"res","original":{"line":161,"column":19},"generated":{"line":2,"column":2487}},{"source":"../twitter.js","name":"text","original":{"line":161,"column":23},"generated":{"line":2,"column":2489}},{"source":"../twitter.js","name":"then","original":{"line":162,"column":7},"generated":{"line":2,"column":2498}},{"source":"../twitter.js","name":"txt","original":{"line":162,"column":12},"generated":{"line":2,"column":2512}},{"source":"../twitter.js","name":"querystring","original":{"line":162,"column":19},"generated":{"line":2,"column":2522}},{"source":"../twitter.js","name":"parse","original":{"line":162,"column":31},"generated":{"line":2,"column":2524}},{"source":"../twitter.js","name":"txt","original":{"line":162,"column":37},"generated":{"line":2,"column":2530}},{"source":"../twitter.js","name":"then","original":{"line":157,"column":20},"generated":{"line":2,"column":2535}},{"source":"../twitter.js","name":"$await_3","original":{"line":157,"column":20},"generated":{"line":2,"column":2565}},{"source":"../twitter.js","name":"_makeRequest","original":{"line":175,"column":2},"generated":{"line":2,"column":2620}},{"source":"../twitter.js","name":"method","original":{"line":175,"column":15},"generated":{"line":2,"column":2642}},{"source":"../twitter.js","name":"resource","original":{"line":175,"column":23},"generated":{"line":2,"column":2644}},{"source":"../twitter.js","name":"parameters","original":{"line":175,"column":33},"generated":{"line":2,"column":2646}},{"source":"../twitter.js","name":"requestData","original":{"line":176,"column":10},"generated":{"line":2,"column":2653}},{"source":"../twitter.js","name":"this","original":{"line":177,"column":14},"generated":{"line":2,"column":2660}},{"source":"../twitter.js","name":"resource","original":{"line":177,"column":26},"generated":{"line":2,"column":2673}},{"source":"../twitter.js","name":"method","original":{"line":178,"column":6},"generated":{"line":2,"column":2690}},{"source":"../twitter.js","name":"parameters","original":{"line":180,"column":8},"generated":{"line":2,"column":2693}},{"source":"../twitter.js","name":null,"original":{"line":181,"column":21},"generated":{"line":2,"column":2697}},{"source":"../twitter.js","name":"method","original":{"line":181,"column":10},"generated":{"line":2,"column":2706}},{"source":"../twitter.js","name":"requestData","original":{"line":181,"column":29},"generated":{"line":2,"column":2708}},{"source":"../twitter.js","name":"data","original":{"line":181,"column":41},"generated":{"line":2,"column":2710}},{"source":"../twitter.js","name":"parameters","original":{"line":181,"column":48},"generated":{"line":2,"column":2715}},{"source":"../twitter.js","name":"requestData","original":{"line":182,"column":11},"generated":{"line":2,"column":2717}},{"source":"../twitter.js","name":"url","original":{"line":182,"column":23},"generated":{"line":2,"column":2719}},{"source":"../twitter.js","name":null,"original":{"line":182,"column":30},"generated":{"line":2,"column":2724}},{"source":"../twitter.js","name":"querystring","original":{"line":182,"column":36},"generated":{"line":2,"column":2728}},{"source":"../twitter.js","name":"stringify","original":{"line":182,"column":48},"generated":{"line":2,"column":2730}},{"source":"../twitter.js","name":"parameters","original":{"line":182,"column":58},"generated":{"line":2,"column":2740}},{"source":"../twitter.js","name":"requestData","original":{"line":195,"column":6},"generated":{"line":2,"column":2763}},{"source":"../twitter.js","name":null,"original":{"line":185,"column":26},"generated":{"line":2,"column":2773}},{"source":"../twitter.js","name":"this","original":{"line":185,"column":8},"generated":{"line":2,"column":2782}},{"source":"../twitter.js","name":"authType","original":{"line":185,"column":13},"generated":{"line":2,"column":2787}},{"source":"../twitter.js","name":"this","original":{"line":186,"column":16},"generated":{"line":2,"column":2796}},{"source":"../twitter.js","name":"client","original":{"line":186,"column":21},"generated":{"line":2,"column":2801}},{"source":"../twitter.js","name":"toHeader","original":{"line":186,"column":28},"generated":{"line":2,"column":2808}},{"source":"../twitter.js","name":"this","original":{"line":187,"column":8},"generated":{"line":2,"column":2817}},{"source":"../twitter.js","name":"client","original":{"line":187,"column":13},"generated":{"line":2,"column":2822}},{"source":"../twitter.js","name":"authorize","original":{"line":187,"column":20},"generated":{"line":2,"column":2829}},{"source":"../twitter.js","name":"requestData","original":{"line":187,"column":30},"generated":{"line":2,"column":2839}},{"source":"../twitter.js","name":"this","original":{"line":187,"column":43},"generated":{"line":2,"column":2841}},{"source":"../twitter.js","name":"token","original":{"line":187,"column":48},"generated":{"line":2,"column":2846}},{"source":"../twitter.js","name":"this","original":{"line":191,"column":33},"generated":{"line":2,"column":2879}},{"source":"../twitter.js","name":"config","original":{"line":191,"column":38},"generated":{"line":2,"column":2884}},{"source":"../twitter.js","name":"get","original":{"line":207,"column":2},"generated":{"line":2,"column":2919}},{"source":"../twitter.js","name":"resource","original":{"line":207,"column":6},"generated":{"line":2,"column":2932}},{"source":"../twitter.js","name":"parameters","original":{"line":207,"column":16},"generated":{"line":2,"column":2934}},{"source":"../twitter.js","name":"this","original":{"line":208,"column":37},"generated":{"line":2,"column":2943}},{"source":"../twitter.js","name":"_makeRequest","original":{"line":208,"column":42},"generated":{"line":2,"column":2948}},{"source":"../twitter.js","name":null,"original":{"line":209,"column":6},"generated":{"line":2,"column":2961}},{"source":"../twitter.js","name":"resource","original":{"line":210,"column":6},"generated":{"line":2,"column":2967}},{"source":"../twitter.js","name":"parameters","original":{"line":211,"column":6},"generated":{"line":2,"column":2969}},{"source":"../twitter.js","name":"Fetch","original":{"line":214,"column":11},"generated":{"line":2,"column":2979}},{"source":"../twitter.js","name":"url","original":{"line":214,"column":29},"generated":{"line":2,"column":2995}},{"source":"../twitter.js","name":"then","original":{"line":215,"column":7},"generated":{"line":2,"column":3020}},{"source":"../twitter.js","name":"Twitter","original":{"line":215,"column":12},"generated":{"line":2,"column":3025}},{"source":"../twitter.js","name":"_handleResponse","original":{"line":215,"column":20},"generated":{"line":2,"column":3027}},{"source":"../twitter.js","name":"then","original":{"line":216,"column":7},"generated":{"line":2,"column":3044}},{"source":"../twitter.js","name":"results","original":{"line":216,"column":12},"generated":{"line":2,"column":3058}},{"source":"../twitter.js","name":null,"original":{"line":217,"column":8},"generated":{"line":2,"column":3067}},{"source":"../twitter.js","name":"results","original":{"line":217,"column":20},"generated":{"line":2,"column":3078}},{"source":"../twitter.js","name":"Promise","original":{"line":217,"column":30},"generated":{"line":2,"column":3080}},{"source":"../twitter.js","name":"reject","original":{"line":217,"column":38},"generated":{"line":2,"column":3088}},{"source":"../twitter.js","name":"results","original":{"line":217,"column":45},"generated":{"line":2,"column":3095}},{"source":"../twitter.js","name":"results","original":{"line":217,"column":56},"generated":{"line":2,"column":3098}},{"source":"../twitter.js","name":"post","original":{"line":229,"column":2},"generated":{"line":2,"column":3115}},{"source":"../twitter.js","name":"resource","original":{"line":229,"column":7},"generated":{"line":2,"column":3129}},{"source":"../twitter.js","name":"body","original":{"line":229,"column":17},"generated":{"line":2,"column":3131}},{"source":"../twitter.js","name":"this","original":{"line":230,"column":37},"generated":{"line":2,"column":3140}},{"source":"../twitter.js","name":"_makeRequest","original":{"line":230,"column":42},"generated":{"line":2,"column":3145}},{"source":"../twitter.js","name":null,"original":{"line":231,"column":6},"generated":{"line":2,"column":3158}},{"source":"../twitter.js","name":"resource","original":{"line":232,"column":6},"generated":{"line":2,"column":3165}},{"source":"../twitter.js","name":"JSON_ENDPOINTS","original":{"line":233,"column":6},"generated":{"line":2,"column":3167}},{"source":"../twitter.js","name":"includes","original":{"line":233,"column":21},"generated":{"line":2,"column":3169}},{"source":"../twitter.js","name":"resource","original":{"line":233,"column":30},"generated":{"line":2,"column":3178}},{"source":"../twitter.js","name":null,"original":{"line":233,"column":42},"generated":{"line":2,"column":3181}},{"source":"../twitter.js","name":"body","original":{"line":233,"column":49},"generated":{"line":2,"column":3186}},{"source":"../twitter.js","name":"requestData","original":{"line":230,"column":12},"generated":{"line":2,"column":3189}},{"source":"../twitter.js","name":"postHeaders","original":{"line":236,"column":10},"generated":{"line":2,"column":3205}},{"source":"../twitter.js","name":"Object","original":{"line":236,"column":24},"generated":{"line":2,"column":3207}},{"source":"../twitter.js","name":"assign","original":{"line":236,"column":31},"generated":{"line":2,"column":3214}},{"source":"../twitter.js","name":"baseHeaders","original":{"line":236,"column":42},"generated":{"line":2,"column":3224}},{"source":"../twitter.js","name":"JSON_ENDPOINTS","original":{"line":237,"column":8},"generated":{"line":2,"column":3244}},{"source":"../twitter.js","name":"includes","original":{"line":237,"column":23},"generated":{"line":2,"column":3246}},{"source":"../twitter.js","name":"resource","original":{"line":237,"column":32},"generated":{"line":2,"column":3255}},{"source":"../twitter.js","name":"JSON","original":{"line":238,"column":13},"generated":{"line":2,"column":3260}},{"source":"../twitter.js","name":"stringify","original":{"line":238,"column":18},"generated":{"line":2,"column":3265}},{"source":"../twitter.js","name":"body","original":{"line":238,"column":28},"generated":{"line":2,"column":3275}},{"source":"../twitter.js","name":"percentEncode","original":{"line":240,"column":13},"generated":{"line":2,"column":3281}},{"source":"../twitter.js","name":"querystring","original":{"line":240,"column":27},"generated":{"line":2,"column":3283}},{"source":"../twitter.js","name":"stringify","original":{"line":240,"column":39},"generated":{"line":2,"column":3285}},{"source":"../twitter.js","name":"body","original":{"line":240,"column":49},"generated":{"line":2,"column":3295}},{"source":"../twitter.js","name":null,"original":{"line":241,"column":18},"generated":{"line":2,"column":3301}},{"source":"../twitter.js","name":null,"original":{"line":241,"column":36},"generated":{"line":2,"column":3317}},{"source":"../twitter.js","name":"Fetch","original":{"line":244,"column":11},"generated":{"line":2,"column":3354}},{"source":"../twitter.js","name":"requestData","original":{"line":244,"column":17},"generated":{"line":2,"column":3356}},{"source":"../twitter.js","name":"url","original":{"line":244,"column":29},"generated":{"line":2,"column":3358}},{"source":"../twitter.js","name":null,"original":{"line":245,"column":14},"generated":{"line":2,"column":3370}},{"source":"../twitter.js","name":"postHeaders","original":{"line":246,"column":15},"generated":{"line":2,"column":3385}},{"source":"../twitter.js","name":"body","original":{"line":247,"column":6},"generated":{"line":2,"column":3392}},{"source":"../twitter.js","name":"then","original":{"line":249,"column":7},"generated":{"line":2,"column":3396}},{"source":"../twitter.js","name":"Twitter","original":{"line":249,"column":12},"generated":{"line":2,"column":3401}},{"source":"../twitter.js","name":"_handleResponse","original":{"line":249,"column":20},"generated":{"line":2,"column":3403}},{"source":"../twitter.js","name":"then","original":{"line":250,"column":7},"generated":{"line":2,"column":3420}},{"source":"../twitter.js","name":"results","original":{"line":250,"column":12},"generated":{"line":2,"column":3434}},{"source":"../twitter.js","name":null,"original":{"line":251,"column":8},"generated":{"line":2,"column":3443}},{"source":"../twitter.js","name":"results","original":{"line":251,"column":20},"generated":{"line":2,"column":3454}},{"source":"../twitter.js","name":"Promise","original":{"line":251,"column":30},"generated":{"line":2,"column":3456}},{"source":"../twitter.js","name":"reject","original":{"line":251,"column":38},"generated":{"line":2,"column":3464}},{"source":"../twitter.js","name":"results","original":{"line":251,"column":45},"generated":{"line":2,"column":3471}},{"source":"../twitter.js","name":"results","original":{"line":251,"column":56},"generated":{"line":2,"column":3474}},{"source":"../twitter.js","name":"stream","original":{"line":261,"column":2},"generated":{"line":2,"column":3491}},{"source":"../twitter.js","name":"resource","original":{"line":261,"column":9},"generated":{"line":2,"column":3507}},{"source":"../twitter.js","name":"parameters","original":{"line":261,"column":19},"generated":{"line":2,"column":3509}},{"source":"../twitter.js","name":null,"original":{"line":262,"column":26},"generated":{"line":2,"column":3526}},{"source":"../twitter.js","name":"this","original":{"line":262,"column":8},"generated":{"line":2,"column":3535}},{"source":"../twitter.js","name":"authType","original":{"line":262,"column":13},"generated":{"line":2,"column":3540}},{"source":"../twitter.js","name":null,"original":{"line":263,"column":6},"generated":{"line":2,"column":3549}},{"source":"../twitter.js","name":null,"original":{"line":263,"column":12},"generated":{"line":2,"column":3555}},{"source":"../twitter.js","name":"Error","original":{"line":263,"column":16},"generated":{"line":2,"column":3559}},{"source":"../twitter.js","name":null,"original":{"line":263,"column":22},"generated":{"line":2,"column":3565}},{"source":"../twitter.js","name":"stream","original":{"line":265,"column":10},"generated":{"line":2,"column":3616}},{"source":"../twitter.js","name":null,"original":{"line":265,"column":19},"generated":{"line":2,"column":3618}},{"source":"../twitter.js","name":"Stream","original":{"line":265,"column":23},"generated":{"line":2,"column":3622}},{"source":"../twitter.js","name":"requestData","original":{"line":269,"column":10},"generated":{"line":2,"column":3624}},{"source":"../twitter.js","name":"getUrl","original":{"line":270,"column":14},"generated":{"line":2,"column":3631}},{"source":"../twitter.js","name":null,"original":{"line":270,"column":21},"generated":{"line":2,"column":3633}},{"source":"../twitter.js","name":"resource","original":{"line":270,"column":34},"generated":{"line":2,"column":3647}},{"source":"../twitter.js","name":null,"original":{"line":271,"column":14},"generated":{"line":2,"column":3664}},{"source":"../twitter.js","name":"parameters","original":{"line":273,"column":8},"generated":{"line":2,"column":3672}},{"source":"../twitter.js","name":"requestData","original":{"line":273,"column":20},"generated":{"line":2,"column":3676}},{"source":"../twitter.js","name":"data","original":{"line":273,"column":32},"generated":{"line":2,"column":3678}},{"source":"../twitter.js","name":"parameters","original":{"line":273,"column":39},"generated":{"line":2,"column":3683}},{"source":"../twitter.js","name":"headers","original":{"line":275,"column":10},"generated":{"line":2,"column":3690}},{"source":"../twitter.js","name":"this","original":{"line":275,"column":20},"generated":{"line":2,"column":3692}},{"source":"../twitter.js","name":"client","original":{"line":275,"column":25},"generated":{"line":2,"column":3697}},{"source":"../twitter.js","name":"toHeader","original":{"line":275,"column":32},"generated":{"line":2,"column":3704}},{"source":"../twitter.js","name":"this","original":{"line":276,"column":6},"generated":{"line":2,"column":3713}},{"source":"../twitter.js","name":"client","original":{"line":276,"column":11},"generated":{"line":2,"column":3718}},{"source":"../twitter.js","name":"authorize","original":{"line":276,"column":18},"generated":{"line":2,"column":3725}},{"source":"../twitter.js","name":"requestData","original":{"line":276,"column":28},"generated":{"line":2,"column":3735}},{"source":"../twitter.js","name":"this","original":{"line":276,"column":41},"generated":{"line":2,"column":3737}},{"source":"../twitter.js","name":"token","original":{"line":276,"column":46},"generated":{"line":2,"column":3742}},{"source":"../twitter.js","name":"Fetch","original":{"line":279,"column":20},"generated":{"line":2,"column":3757}},{"source":"../twitter.js","name":"requestData","original":{"line":279,"column":26},"generated":{"line":2,"column":3759}},{"source":"../twitter.js","name":"url","original":{"line":279,"column":38},"generated":{"line":2,"column":3761}},{"source":"../twitter.js","name":null,"original":{"line":280,"column":14},"generated":{"line":2,"column":3773}},{"source":"../twitter.js","name":"Object","original":{"line":281,"column":15},"generated":{"line":2,"column":3788}},{"source":"../twitter.js","name":"headers","original":{"line":282,"column":11},"generated":{"line":2,"column":3805}},{"source":"../twitter.js","name":"Content-Type","original":{"line":283,"column":8},"generated":{"line":2,"column":3808}},{"source":"../twitter.js","name":null,"original":{"line":283,"column":24},"generated":{"line":2,"column":3823}},{"source":"../twitter.js","name":"percentEncode","original":{"line":285,"column":12},"generated":{"line":2,"column":3866}},{"source":"../twitter.js","name":"querystring","original":{"line":285,"column":26},"generated":{"line":2,"column":3868}},{"source":"../twitter.js","name":"stringify","original":{"line":285,"column":38},"generated":{"line":2,"column":3870}},{"source":"../twitter.js","name":"parameters","original":{"line":285,"column":48},"generated":{"line":2,"column":3880}},{"source":"../twitter.js","name":"then","original":{"line":289,"column":7},"generated":{"line":2,"column":3886}},{"source":"../twitter.js","name":"response","original":{"line":289,"column":12},"generated":{"line":2,"column":3900}},{"source":"../twitter.js","name":"destroy","original":{"line":290,"column":15},"generated":{"line":2,"column":3905}},{"source":"../twitter.js","name":"this","original":{"line":290,"column":25},"generated":{"line":2,"column":3913}},{"source":"../twitter.js","name":"stream","original":{"line":290,"column":30},"generated":{"line":2,"column":3915}},{"source":"../twitter.js","name":"destroy","original":{"line":290,"column":37},"generated":{"line":2,"column":3922}},{"source":"../twitter.js","name":"response","original":{"line":290,"column":53},"generated":{"line":2,"column":3948}},{"source":"../twitter.js","name":"body","original":{"line":290,"column":62},"generated":{"line":2,"column":3950}},{"source":"../twitter.js","name":"destroy","original":{"line":290,"column":67},"generated":{"line":2,"column":3955}},{"source":"../twitter.js","name":"response","original":{"line":292,"column":12},"generated":{"line":2,"column":3966}},{"source":"../twitter.js","name":"ok","original":{"line":292,"column":21},"generated":{"line":2,"column":3968}},{"source":"../twitter.js","name":"emit","original":{"line":293,"column":17},"generated":{"line":2,"column":3973}},{"source":"../twitter.js","name":null,"original":{"line":293,"column":22},"generated":{"line":2,"column":3978}},{"source":"../twitter.js","name":"response","original":{"line":293,"column":31},"generated":{"line":2,"column":3986}},{"source":"../twitter.js","name":"_headers","original":{"line":295,"column":19},"generated":{"line":2,"column":3992}},{"source":"../twitter.js","name":"response","original":{"line":295,"column":30},"generated":{"line":2,"column":4001}},{"source":"../twitter.js","name":"headers","original":{"line":295,"column":39},"generated":{"line":2,"column":4003}},{"source":"../twitter.js","name":"raw","original":{"line":295,"column":47},"generated":{"line":2,"column":4011}},{"source":"../twitter.js","name":"emit","original":{"line":296,"column":17},"generated":{"line":2,"column":4019}},{"source":"../twitter.js","name":null,"original":{"line":296,"column":22},"generated":{"line":2,"column":4024}},{"source":"../twitter.js","name":"response","original":{"line":296,"column":31},"generated":{"line":2,"column":4032}},{"source":"../twitter.js","name":"body","original":{"line":299,"column":17},"generated":{"line":2,"column":4038}},{"source":"../twitter.js","name":"on","original":{"line":300,"column":11},"generated":{"line":2,"column":4043}},{"source":"../twitter.js","name":null,"original":{"line":300,"column":14},"generated":{"line":2,"column":4046}},{"source":"../twitter.js","name":"chunk","original":{"line":300,"column":22},"generated":{"line":2,"column":4062}},{"source":"../twitter.js","name":"stream","original":{"line":300,"column":31},"generated":{"line":2,"column":4072}},{"source":"../twitter.js","name":"parse","original":{"line":300,"column":38},"generated":{"line":2,"column":4074}},{"source":"../twitter.js","name":"chunk","original":{"line":300,"column":44},"generated":{"line":2,"column":4080}},{"source":"../twitter.js","name":"on","original":{"line":301,"column":11},"generated":{"line":2,"column":4085}},{"source":"../twitter.js","name":null,"original":{"line":301,"column":14},"generated":{"line":2,"column":4088}},{"source":"../twitter.js","name":"error","original":{"line":301,"column":23},"generated":{"line":2,"column":4105}},{"source":"../twitter.js","name":"stream","original":{"line":301,"column":32},"generated":{"line":2,"column":4115}},{"source":"../twitter.js","name":"emit","original":{"line":301,"column":39},"generated":{"line":2,"column":4117}},{"source":"../twitter.js","name":null,"original":{"line":301,"column":44},"generated":{"line":2,"column":4122}},{"source":"../twitter.js","name":"error","original":{"line":301,"column":53},"generated":{"line":2,"column":4130}},{"source":"../twitter.js","name":"on","original":{"line":302,"column":11},"generated":{"line":2,"column":4135}},{"source":"../twitter.js","name":null,"original":{"line":302,"column":14},"generated":{"line":2,"column":4138}},{"source":"../twitter.js","name":"stream","original":{"line":302,"column":27},"generated":{"line":2,"column":4162}},{"source":"../twitter.js","name":"emit","original":{"line":302,"column":34},"generated":{"line":2,"column":4164}},{"source":"../twitter.js","name":null,"original":{"line":302,"column":39},"generated":{"line":2,"column":4169}},{"source":"../twitter.js","name":"response","original":{"line":302,"column":46},"generated":{"line":2,"column":4175}},{"source":"../twitter.js","name":"catch","original":{"line":304,"column":7},"generated":{"line":2,"column":4182}},{"source":"../twitter.js","name":"error","original":{"line":304,"column":13},"generated":{"line":2,"column":4197}},{"source":"../twitter.js","name":"stream","original":{"line":304,"column":22},"generated":{"line":2,"column":4207}},{"source":"../twitter.js","name":"emit","original":{"line":304,"column":29},"generated":{"line":2,"column":4209}},{"source":"../twitter.js","name":null,"original":{"line":304,"column":34},"generated":{"line":2,"column":4214}},{"source":"../twitter.js","name":"error","original":{"line":304,"column":43},"generated":{"line":2,"column":4222}},{"source":"../twitter.js","name":"stream","original":{"line":306,"column":11},"generated":{"line":2,"column":4227}},{"source":"../twitter.js","name":"module","original":{"line":310,"column":0},"generated":{"line":2,"column":4230}},{"source":"../twitter.js","name":"exports","original":{"line":310,"column":7},"generated":{"line":2,"column":4237}},{"source":"../twitter.js","name":"Twitter","original":{"line":310,"column":17},"generated":{"line":2,"column":4245}}],"sources":{"../twitter.js":"const crypto = require('crypto');\nconst OAuth = require('oauth-1.0a');\nconst Fetch = require('cross-fetch');\nconst querystring = require('querystring');\nconst Stream = require('./stream');\n\nconst getUrl = (subdomain, endpoint = '1.1') =>\n  `https://${subdomain}.twitter.com/${endpoint}`;\n\nconst createOauthClient = ({ key, secret }) => {\n  const client = OAuth({\n    consumer: { key, secret },\n    signature_method: 'HMAC-SHA1',\n    hash_function(baseString, key) {\n      return crypto\n        .createHmac('sha1', key)\n        .update(baseString)\n        .digest('base64');\n    },\n  });\n\n  return client;\n};\n\nconst defaults = {\n  subdomain: 'api',\n  consumer_key: null,\n  consumer_secret: null,\n  access_token_key: null,\n  access_token_secret: null,\n  bearer_token: null,\n};\n\n// Twitter expects POST body parameters to be URL-encoded: https://developer.twitter.com/en/docs/basics/authentication/guides/creating-a-signature\n// However, some endpoints expect a JSON payload - https://developer.twitter.com/en/docs/direct-messages/sending-and-receiving/api-reference/new-event\n// It appears that JSON payloads don't need to be included in the signature,\n// because sending DMs works without signing the POST body\nconst JSON_ENDPOINTS = [\n  'direct_messages/events/new',\n  'direct_messages/welcome_messages/new',\n  'direct_messages/welcome_messages/rules/new',\n];\n\nconst baseHeaders = {\n  'Content-Type': 'application/json',\n  Accept: 'application/json',\n};\n\nfunction percentEncode(string) {\n  // From OAuth.prototype.percentEncode\n  return string\n    .replace(/!/g, '%21')\n    .replace(/\\*/g, '%2A')\n    .replace(/'/g, '%27')\n    .replace(/\\(/g, '%28')\n    .replace(/\\)/g, '%29');\n}\n\nclass Twitter {\n  constructor(options) {\n    const config = Object.assign({}, defaults, options);\n    this.authType = config.bearer_token ? 'App' : 'User';\n    this.client = createOauthClient({\n      key: config.consumer_key,\n      secret: config.consumer_secret,\n    });\n\n    this.token = {\n      key: config.access_token_key,\n      secret: config.access_token_secret,\n    };\n\n    this.url = getUrl(config.subdomain);\n    this.oauth = getUrl(config.subdomain, 'oauth');\n    this.config = config;\n  }\n\n  /**\n   * Parse the JSON from a Response object and add the Headers under `_headers`\n   * @param {Response} response - the Response object returned by Fetch\n   * @return {Promise<object>}\n   * @private\n   */\n  static _handleResponse(response) {\n    const headers = response.headers.raw(); // TODO: see #44\n    // Return empty response on 204 \"No content\"\n    if (response.status === 204)\n      return {\n        _headers: headers,\n      };\n    // Otherwise, parse JSON response\n    return response.json().then(res => {\n      res._headers = headers; // TODO: this creates an array-like object when it adds _headers to an array response\n      return res;\n    });\n  }\n\n  async getBearerToken() {\n    const headers = {\n      Authorization:\n        'Basic ' +\n        Buffer.from(\n          this.config.consumer_key + ':' + this.config.consumer_secret\n        ).toString('base64'),\n      'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',\n    };\n\n    const results = await Fetch('https://api.twitter.com/oauth2/token', {\n      method: 'POST',\n      body: 'grant_type=client_credentials',\n      headers,\n    }).then(Twitter._handleResponse);\n\n    return results;\n  }\n\n  async getRequestToken(twitterCallbackUrl) {\n    const requestData = {\n      url: `${this.oauth}/request_token`,\n      method: 'POST',\n    };\n\n    let parameters = {};\n    if (twitterCallbackUrl) parameters = { oauth_callback: twitterCallbackUrl };\n    if (parameters) requestData.url += '?' + querystring.stringify(parameters);\n\n    const headers = this.client.toHeader(\n      this.client.authorize(requestData, {})\n    );\n\n    const results = await Fetch(requestData.url, {\n      method: 'POST',\n      headers: Object.assign({}, baseHeaders, headers),\n    })\n      .then(res => res.text())\n      .then(txt => querystring.parse(txt));\n\n    return results;\n  }\n\n  async getAccessToken(options) {\n    const requestData = {\n      url: `${this.oauth}/access_token`,\n      method: 'POST',\n    };\n\n    let parameters = { oauth_verifier: options.verifier };\n    if (parameters) requestData.url += '?' + querystring.stringify(parameters);\n\n    const headers = this.client.toHeader(\n      this.client.authorize(requestData, {\n        key: options.key,\n        secret: options.secret,\n      })\n    );\n\n    const results = await Fetch(requestData.url, {\n      method: 'POST',\n      headers: Object.assign({}, baseHeaders, headers),\n    })\n      .then(res => res.text())\n      .then(txt => querystring.parse(txt));\n\n    return results;\n  }\n\n  /**\n   * Construct the data and headers for an authenticated HTTP request to the Twitter API\n   * @param {string} method - 'GET' or 'POST'\n   * @param {string} resource - the API endpoint\n   * @param {object} parameters\n   * @return {{requestData: {url: string, method: string}, headers: ({Authorization: string}|OAuth.Header)}}\n   * @private\n   */\n  _makeRequest(method, resource, parameters) {\n    const requestData = {\n      url: `${this.url}/${resource}.json`,\n      method,\n    };\n    if (parameters)\n      if (method === 'POST') requestData.data = parameters;\n      else requestData.url += '?' + querystring.stringify(parameters);\n\n    let headers = {};\n    if (this.authType === 'User') {\n      headers = this.client.toHeader(\n        this.client.authorize(requestData, this.token)\n      );\n    } else {\n      headers = {\n        Authorization: `Bearer ${this.config.bearer_token}`,\n      };\n    }\n    return {\n      requestData,\n      headers,\n    };\n  }\n\n  /**\n   * Send a GET request\n   * @param {string} resource - endpoint, e.g. `followers/ids`\n   * @param {object} [parameters] - optional parameters\n   * @returns {Promise<object>} Promise resolving to the response from the Twitter API.\n   *   The `_header` property will be set to the Response headers (useful for checking rate limits)\n   */\n  get(resource, parameters) {\n    const { requestData, headers } = this._makeRequest(\n      'GET',\n      resource,\n      parameters\n    );\n\n    return Fetch(requestData.url, { headers })\n      .then(Twitter._handleResponse)\n      .then(results =>\n        'errors' in results ? Promise.reject(results) : results\n      );\n  }\n\n  /**\n   * Send a POST request\n   * @param {string} resource - endpoint, e.g. `users/lookup`\n   * @param {object} body - POST parameters object.\n   *   Will be encoded appropriately (JSON or urlencoded) based on the resource\n   * @returns {Promise<object>} Promise resolving to the response from the Twitter API.\n   *   The `_header` property will be set to the Response headers (useful for checking rate limits)\n   */\n  post(resource, body) {\n    const { requestData, headers } = this._makeRequest(\n      'POST',\n      resource,\n      JSON_ENDPOINTS.includes(resource) ? null : body // don't sign JSON bodies; only parameters\n    );\n\n    const postHeaders = Object.assign({}, baseHeaders, headers);\n    if (JSON_ENDPOINTS.includes(resource)) {\n      body = JSON.stringify(body);\n    } else {\n      body = percentEncode(querystring.stringify(body));\n      postHeaders['Content-Type'] = 'application/x-www-form-urlencoded';\n    }\n\n    return Fetch(requestData.url, {\n      method: 'POST',\n      headers: postHeaders,\n      body,\n    })\n      .then(Twitter._handleResponse)\n      .then(results =>\n        'errors' in results ? Promise.reject(results) : results\n      );\n  }\n\n  /**\n   *\n   * @param {string} resource - endpoint, e.g. `statuses/filter`\n   * @param {object} parameters\n   * @returns {Stream}\n   */\n  stream(resource, parameters) {\n    if (this.authType !== 'User')\n      throw new Error('Streams require user context authentication');\n\n    const stream = new Stream();\n\n    // POST the request, in order to accommodate long parameter lists, e.g.\n    // up to 5000 ids for statuses/filter - https://developer.twitter.com/en/docs/tweets/filter-realtime/api-reference/post-statuses-filter\n    const requestData = {\n      url: `${getUrl('stream')}/${resource}.json`,\n      method: 'POST',\n    };\n    if (parameters) requestData.data = parameters;\n\n    const headers = this.client.toHeader(\n      this.client.authorize(requestData, this.token)\n    );\n\n    const request = Fetch(requestData.url, {\n      method: 'POST',\n      headers: {\n        ...headers,\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: percentEncode(querystring.stringify(parameters)),\n    });\n\n    request\n      .then(response => {\n        stream.destroy = this.stream.destroy = () => response.body.destroy();\n\n        if (response.ok) {\n          stream.emit('start', response);\n        } else {\n          response._headers = response.headers.raw();  // TODO: see #44 - could omit the line\n          stream.emit('error', response);\n        }\n\n        response.body\n          .on('data', chunk => stream.parse(chunk))\n          .on('error', error => stream.emit('error', error))  // no point in adding the original response headers\n          .on('end', () => stream.emit('end', response));\n      })\n      .catch(error => stream.emit('error', error));\n\n    return stream;\n  }\n}\n\nmodule.exports = Twitter;\n"},"lineCount":null}},"error":null,"hash":"672aa378d8c17ddad4d56aef87eeb71b","cacheData":{"env":{}}}